CREATE TABLE IF NOT EXISTS user (
user_id INT NOT NULL AUTO_INCREMENT,
username VARCHAR(255) NOT NULL UNIQUE,
email VARCHAR(255) NOT NULL UNIQUE,
bio VARCHAR(255),
profile_img VARCHAR(255),
password VARCHAR(255) NOT NULL,
PRIMARY KEY (user_id)
);

CREATE TABLE IF NOT EXISTS post (
user_id INT NOT NULL,
post_id INT NOT NULL AUTO_INCREMENT,
content VARCHAR(255) NOT NULL,
reply_to INT,
created TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
PRIMARY KEY (post_id),
FOREIGN KEY (user_id) REFERENCES user (user_id) ON DELETE CASCADE,
FOREIGN KEY (reply_to) REFERENCES post (post_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS follow (
user_id INT NOT NULL,
following_user_id INT NOT NULL,
FOREIGN KEY (user_id) REFERENCES user (user_id) ON DELETE CASCADE,
FOREIGN KEY (following_user_id) REFERENCES user (user_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS likes (
like_id INT NOT NULL AUTO_INCREMENT,
post_id INT NOT NULL,
user_id INT NOT NULL,
FOREIGN KEY (post_id) REFERENCES post (post_id) ON DELETE CASCADE,
FOREIGN KEY (user_id) REFERENCES user (user_id) ON DELETE CASCADE,
PRIMARY KEY (like_id)
);

